set noswapfile

" ----------------------------------------------------------------------------
"  Text Formatting
" ----------------------------------------------------------------------------
 
set autoindent             " automatic indent new lines
set smartindent            " be smart about it
inoremap # X<BS>#
set nowrap                 " do not wrap lines
set softtabstop=2          " yep, two
set shiftwidth=2           " ..
set tabstop=4
set expandtab              " expand tabs to spaces
set nosmarttab
set formatoptions+=n       " support for numbered/bullet lists
"set textwidth=80           " wrap at 80 chars by default
set virtualedit=block      " allow virtual edit in visual block ..
 
" ----------------------------------------------------------------------------
"  UI
" ----------------------------------------------------------------------------
 
set ruler                  " show the cursor position all the time
set noshowcmd              " don't display incomplete commands
set nolazyredraw           " turn off lazy redraw
set number                 " line numbers
set ch=2                   " command line height
set backspace=2            " allow backspacing over everything in insert mode
set whichwrap+=<,>,h,l,[,] " backspace and cursor keys wrap to
set report=0               " tell us about changes
set nostartofline          " don't jump to the start of line when scrolling
 
" ----------------------------------------------------------------------------
" Visual Cues
" ----------------------------------------------------------------------------
 
set t_vb=                  " no visual bell
set showmatch              " brackets/braces that is
set list                   " make special chars visible
set listchars=tab:\ \      " show tabs sorta, SpecialKey hl makes them visible
set mat=5                  " duration to show matching brace (1/10 sec)
set incsearch              " do incremental searching
set laststatus=2           " always show the status line
set ignorecase             " ignore case when searching
set nohlsearch             " don't highlight searches
set bg=dark                " assume dark background
syntax on                  " enable syntax highlighting

highlight OverLength ctermbg=red ctermfg=white guibg=#592929
match OverLength /\%81v.\+/

execute pathogen#infect()

highlight SpecialKey ctermbg=234

" ---------------------------------------------------------------------------
"  Strip all trailing whitespace in file
" ---------------------------------------------------------------------------
 
function! StripWhitespace ()
    exec ':%s/ \+$//gc'
endfunction
map ,s :call StripWhitespace ()<CR>


" ---------------------------------------------------------------------------
"  Toggle relative line numbers
" ---------------------------------------------------------------------------

function! RelativeNumberToggle()
  if(&relativenumber == 1)
    set norelativenumber
  else
    set relativenumber
  endif
endfunction

nnoremap <leader>rn :call RelativeNumberToggle ()<CR>
nnoremap <leader>b :buffers<CR>
" Rename variable locally
nnoremap <leader>rl gd[{V%::s/<C-R>///gc<left><left><left>
" Rename variable globally (within buffer)
nnoremap <leader>rg gD:%s/<C-R>///gc<left><left><left>

if filereadable($HOME."/.localvimrc")
  source ~/.localvimrc
endif
